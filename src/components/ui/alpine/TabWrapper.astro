---

const { tabs } = Astro.props;

const _tabs= tabs || [
    { id: "tab1", label : "Tab1", active:true},
    { id: "tab2", label : "Tab2", active:false},
    { id: "tab3", label : "Tab3", active:false},
]

const _activeTab = _tabs.find((t) => t.active) || tabs[0];

---

<div x-data={`{activeTab:'${_activeTab.id}'}`} class="tabs flex flex-col">
    <div class="is-scrollbar-hidden overflow-x-auto">
      <div class="tabs-list flex">
        { _tabs.map((t) => {
            return (
                <button
                    @click={`activeTab = '${t.id}'`}
                    :class={`activeTab === '${t.id}' 
                                    ? 'border-primary dark:border-accent text-primary dark:text-accent-light' 
                                    : 'border-transparent hover:text-slate-800 focus:text-slate-800 dark:hover:text-navy-100 dark:focus:text-navy-100'`}
                    class="btn shrink-0 rounded-none border-b-2 px-3 py-2 font-medium"
                >
                    {t.label}
                </button>
            );
        })}
      </div>
    </div>
    <div class="tab-content pt-4">
        <slot />
    </div>
  </div>