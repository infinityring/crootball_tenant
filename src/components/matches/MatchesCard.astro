---
import formatNumber from "@/lib/formatNumbers";
import TeamBadge from "@/components/teams/Badge.astro";
import CompetitionBadge from "@/components/competitions/Badge.astro";

const _teamsMatches ={
    name : "RCD Mallorca",
    slug : "rcd-mallorca",
    
    competitions : [
        { 
            name : "La Liga", 
            slug : "la-liga", 
            logo : "/images/200x200.png",
            matches :[
                { 
                    id : 1,
                    label  : "2a decade - Giornata 12",
                    homeTeam : { name : "RCD Mallorca", slug : "rcd-mallorca", logo : "/images/200x200.png", manager : { name : "Manager 1", slug : "manager-1"}},
                    awayTeam : { name : "Barcelona", slug : "barcelona", logo : "/images/200x200.png", manager : { name : "Manager 2", slug : "manager-2"}},
                    result : { home : 2, away : 1, },
                    facts : { home : ["INJ", "BAN", "TAV"], away : ["INJ", "BAN", "TAV"] },
                    played : new Date(),
                },
                { 
                    id : 1,
                    label  : "2a decade - Giornata 12",
                    homeTeam : { name : "RCD Mallorca", slug : "rcd-mallorca", logo : "/images/200x200.png", manager : { name : "Manager 1", slug : "manager-1"}},
                    awayTeam : { name : "Barcelona", slug : "barcelona", logo : "/images/200x200.png", manager : { name : "Manager 2", slug : "manager-2"}},
                    result : { home : 2, away : 1, },
                    facts : { home : ["INJ", "BAN", "TAV"], away : ["INJ", "BAN", "TAV"] },
                    played : new Date(),
                }
            ]
        },
        { 
            name : "La Liga", 
            slug : "la-liga", 
            logo : "/images/200x200.png",
            matches :[
                { 
                    id : 1,
                    label  : "2a decade - Giornata 12",
                    homeTeam : { name : "RCD Mallorca", slug : "rcd-mallorca", logo : "/images/200x200.png", manager : { name : "Manager 1", slug : "manager-1"}},
                    awayTeam : { name : "Barcelona", slug : "barcelona", logo : "/images/200x200.png", manager : { name : "Manager 2", slug : "manager-2"}},
                    result : { home : 2, away : 1, },
                    facts : { home : ["INJ", "BAN", "TAV"], away : ["INJ", "BAN", "TAV"] },
                    played : new Date(),
                },
                { 
                    id : 1,
                    label  : "2a decade - Giornata 12",
                    homeTeam : { name : "RCD Mallorca", slug : "rcd-mallorca", logo : "/images/200x200.png", manager : { name : "Manager 1", slug : "manager-1"}},
                    awayTeam : { name : "Barcelona", slug : "barcelona", logo : "/images/200x200.png", manager : { name : "Manager 2", slug : "manager-2"}},
                    result : { home : 2, away : 1, },
                    facts : { home : ["INJ", "BAN", "TAV"], away : ["INJ", "BAN", "TAV"] },
                    played : new Date(),
                }
            ]
        }
    ]


    }

---

<div class="card px-4 pb-4 sm:px-5">
    <div class="my-3 flex h-8 items-center justify-between">
        <h2 class="font-medium tracking-wide text-slate-700 dark:text-navy-100">
            Matches
        </h2>
        <a
            href={`/teams/${_teamsMatches.slug}/matches`}
            class="border-b border-dotted border-current pb-0.5 text-xs-plus font-medium text-primary outline-hidden transition-colors duration-300 hover:text-primary/70 focus:text-primary/70 dark:text-accent-light dark:hover:text-accent-light/70 dark:focus:text-accent-light/70"
            >View All</a
        >
    </div>
    <div class="space-y-5">
        {_teamsMatches.competitions.map((competition) => (
              <div class="flex flex-col space-y-3.5 w-full">
                <CompetitionBadge competition = {competition} />
                {competition.matches.map((match) => (
                    <a href={`/matches/${match.id}`} class="flex cursor-pointer items-center justify-between">
                        <div class="flex items-center space-x-3.5 w-full">
                            <div class="flex flex-col space-y-2 grow">
                                <TeamBadge team = {match.homeTeam} />
                                <TeamBadge team = {match.awayTeam} />
                            </div>
                            <div class="flex shrink-0">
                                |
                            </div>
                            <div  class="flex flex-col space-y-2 w-2">
                                <div>{match.result.home}</div>
                                <div>{match.result.away}</div>
                            </div>
                        </div>
                    </a>
                ))}


              </div>
        ))}
        
    </div>
</div>
