---
import Card from "@/components/ui/Card.astro";
import Table from "@/components/ui/Table.astro";
import TableHeaderCell from "@/components/ui/TableHeaderCell.astro";
import TableRow from "@/components/ui/TableRow.astro";
import TableBodyCell from "@/components/ui/TableBodyCell.astro";
import SearchPanel from "@/components/ui/alpine/SearchPanel.astro";
import Textbox from "@/components/ui/alpine/Textbox.astro";
import Button from "@/components/ui/alpine/Button.astro";

const transactionsHistory = [
    {
        id: 1,
        date: "2023-08-16",
        description: "Player 1 transfer from Team A to Team B (Season 23)",
        value: -100000,
        type: "TRANSFER",
        direction: "OUT",
        season: 23
    },
    {
        id: 2,
        date: "2023-09-01",
        description: "Taxes Season 23",
        value: -50000,
        type: "TAXES",
        direction: "OUT",
        season: 23
    },
    {
        id: 3,
        date: "2024-07-10",
        description: "Player 2 transfer from Team B to Team C (Season 24)",
        value: 120000,
        type: "TRANSFER",
        direction: "IN",
        season: 24
    },
    {
        id: 4,
        date: "2024-08-24",
        description: "Taxes Season 24",
        value: -60000,
        type: "TAXES",
        direction: "OUT",
        season: 24
    },
    {
        id: 5,
        date: "2025-06-29",
        description: "Player 3 transfer from Team C to Team D (Season 25)",
        value: -200000,
        type: "TRANSFER",
        direction: "OUT",
        season: 25
    },
    {
        id: 6,
        date: "2025-08-16",
        description: "Taxes Season 25",
        value: -70000,
        type: "TAXES",
        direction: "OUT",
        season: 25
    },
];
---

<Card>
    <h2>Operations History</h2>
    <SearchPanel event="doSearch" data="searchFormData">
        <Textbox
            label="Type"
            model="searchFormData.fromTeam"
            placeholder="Taxes"
        />
        <Textbox
            label="Season"
            model="searchFormData.season"
            placeholder="2025"
        />
        <Button label="Search" onClick="doSearch" />
    </SearchPanel>
    <Table>
        <thead slot="head">
            <TableHeaderCell>Type</TableHeaderCell>
            <TableHeaderCell>Description</TableHeaderCell>
            <TableHeaderCell>In/Out</TableHeaderCell>
            <TableHeaderCell>Value</TableHeaderCell>
        </thead>

        <tbody slot="body">
            {
                transactionsHistory.map((operation) => (
                    <TableRow>
                        <TableBodyCell>{operation.type}</TableBodyCell>
                        <TableBodyCell>{operation.description}</TableBodyCell>
                        <TableBodyCell>{operation.direction}</TableBodyCell>
                        <TableBodyCell>{operation.value}</TableBodyCell>
                    </TableRow>
                ))
            }
        </tbody>
    </Table>
</Card>
