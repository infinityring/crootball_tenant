---
import formatNumber from "@/lib/formatNumbers";
import Kpi from "@/components/ui/Kpi.astro";


const facilities = {

    stadium : { capacity: 60000, price: 70, maintenance: 10000000, seasonTickets: 40000, seasontTcketCosts: 1500},
    marketing : {
        jerseys : { income : 1500000 * 80 , cost : 1500000*30},
        shops : { income : 1000000, cost : 100000},
        other : { income: 1000000, cost : 100000}
    },
    training : {uglies : 10, maintenance: 10000000 },
    staff : [
        {name: "Coach", wage: 500000},
        {name: "Manaing director",  wage: 400000},
        {name: "Physio",  wage: 510000},
    ]

};

const _team = Astro.props.team;

---

<div class="card px-4 pb-4 sm:px-5">
    <div class="my-3 flex h-8 items-center justify-between">
        <h2 class="font-medium tracking-wide text-slate-700 dark:text-navy-100">
            Facilities
        </h2>
        <a
            href={`/teams/${_team.slug}/facilities`}
            class="border-b border-dotted border-current pb-0.5 text-xs-plus font-medium text-primary outline-hidden transition-colors duration-300 hover:text-primary/70 focus:text-primary/70 dark:text-accent-light dark:hover:text-accent-light/70 dark:focus:text-accent-light/70"
            >View All Facilities</a
        >
    </div>
    <div class="space-y-3.5">
        <div class="grid grid-cols-5">

                <h3>Stadium</h3>
                <Kpi kpi={{topvalue: formatNumber(facilities.stadium.capacity), label: "Capacity"}} />
                <Kpi kpi={{topvalue: formatNumber(((facilities.stadium.capacity * 26) - facilities.stadium.seasonTickets)* facilities.stadium.price), label: "Tickets"}} />
                <Kpi kpi={{topvalue: formatNumber(facilities.stadium.seasonTickets * facilities.stadium.seasontTcketCosts), label: "Season Tickets"}} />
                <Kpi kpi={{topvalue: formatNumber(facilities.stadium.maintenance), label: "Maintenance"}} />

                <h3>Marketing</h3>
                <Kpi kpi={{topvalue: formatNumber(facilities.marketing.jerseys.income), label: "Jerseys"}} />
                <Kpi kpi={{topvalue: formatNumber(facilities.marketing.shops.income), label: "Shops"}} />
                <Kpi kpi={{topvalue: formatNumber(facilities.marketing.other.income), label: "Other"}} />
                <Kpi kpi={{topvalue: formatNumber(facilities.marketing.other.cost + facilities.marketing.jerseys.cost + facilities.marketing.shops.cost), label: "Cost"}} />

                <h3>Staff</h3>
                {facilities.staff.map((staff) => (
                    <Kpi kpi={{topvalue: formatNumber(staff.wage), label: staff.name}} />
                ))}
                <Kpi kpi={{topvalue: formatNumber(15000000), label: "Cost"}} />

         </div>

    </div>
</div>
